language: node_js
node_js:
- '4'
sudo: false
cache:
  directories:
  - node_modules
before_install:
- npm config set spin false
- npm install -g bower
- bower --version
- npm install phantomjs-prebuilt
- node_modules/phantomjs-prebuilt/bin/phantomjs --version
install:
- npm install
- bower install
script:
- npm test
before_deploy:
- npm run build
deploy:
  provider: s3
  access_key_id:
    secure: JNZk6Xhcnm1vrN1seDhTJSoduy0d9Cxv2dDWoPMT3PpRw49x4Kp7i55jSSOa2n/qYoN+VHWBB/CkX4sq1F6/Bn66NGPA9vySx/n7/Yfcc2SrcFHVOa4ne6E5aAZZhDv60ebmOVRykD2yWQkukm0qMfYE+QdtMEIYb3cZJLoti4Hp0AqZp+WMMSNJB9HHrZOzLFqVXHtd+JWR4iWd2VAOkxnSiIoblFDxEBe2CNx+QuyOinCTqXzrisltvwgcy8Mfzg6RHfn+KjQWQMIwNDurlgDVD5ah9Ek/nEodIvC1LXzZq8dsI2hg/WMGk1tdDGB2NOTkkpoiw0sskHoLpA510E3fufM+7C0FCwCqjTcItwXQpSSDaWwDrYWHfqFz1ppr0jVr6tYEgH2rCWT50HdLcgueciuRZM8hOUFKKupcNIVNZrQLFiLBQONTWAOm/VjX55hE8pZ+p4KiDM9pi2QkYRgncl7X4jBfcDdmmNF46Llv6N9hJeJ7N4SUij/LQSpxWdv3l6riy+9jpiXnC2VfYjYEeM/ZUSCheXqEB/BHb/YNiMQEFV4UKoqWZlrxfkoPlOcPPgPm3RbgFIlLaOzNeTpWKUk0/urWpw+RkOhYuoh1MJ1u0v/XS9V4orAm1tpoKHwNcP1ZS+xMj9NqQTil2dA70C3hfg7poi2k4BTjv5E=
  secret_access_key:
    secure: MgWgJtiO3OcEL8f6W3ZeVo1ZM/VsCSdI+TPEtN4zsg9HonYK6Jmnfwhemkr8tzc+ZTjx61EeKJVPQ9HQkXhnMT+OKymraHtbITriFquX3zUzT2yIrYs5Ts2Ii9aucec3BRGGgwaKJ4MU4VQbebyTRnILFb+0OHPO3bMiKyTBbdPkylO2Pu5siUx5nlgpQBaiOIn6thYJnKQ8hkPuGCZpMLjI/NGsSE3PIvzziHwLl+PNXxniZxGz+VPp2YR10Oz9CRlFE2HLaTIwZhwY0mhjHEiGwQENEfTRq8mLGKu1ZOrMRDjcuTlTgZsRVV1z2ChXScAVgtoMdje83o7Og7C1pclDIJuMVN2qIm27tOf6wN8foVML7622x9uCv7AgDKETnWXp/K0h6LiLZBUh6KySM7ap9+Vr1mD8VMVQalNhUqJ59NZK4S3dW4DvpYwt28BbwArue2apKIkTFblpS36YragmzKKVfh2EtVyHsQPezp96Md6ludzc1EKitghHsjbMVgiTBm0lWG8Wk79vguNloxz1dxuhNRg3JIR6OHefHJ/7yC1MEVlMWhXdAoGnHUAl+9lN6BBvdIG+pkY4Qu7F3OCqYLrpK1kWb904LtPjxrK3JqnLxVr3EidEfRyl6fvzFgLbFvPpV1rEicw466+3u7uQCWLlExkEoPmbnKAeTqQ=
  bucket: cloudfront-app
  local_dir: dist
  skip_cleanup: true
  region: us-west-2
notifications:
  slack:
    secure: NEyOpXZWG0TtHZDc4Rdy2OLEOVoSQW6Jmw2T/COFSzEjzq7vIXD7mxBfzVuJgp1X5whfEivo5YS5DOjc4V1fLwDpguFsz+iDukbFZkQA16R71PSIQPJ2u6390kDeQoc8epSS9IL8qUuz6L6w2eJPZol9ZkYaI7IKEi5Q8PTBlUuL/XoVmObcsoy0rTyvcXwAIL8ICWiIP6sJDIHW3ak3nzQdjt3rJkoQyEyQP+GMxi2izlhRUBPzHo+X3rhd8wByp6rOOA+R4lzRy/S+gpE+1oM5vzjnXx21Sa2h4UygZtfVExFetF41Zirc5pfwtcK4Gq5OVupxVOdHrmDF4Lvw1qWxLxIBcWS9UcUUH78Hu59tySBZQl7XEdlVCigXHv8kd+UaQN0wS6IZPy9t2mdW1Ik4ShzK1KOQqUlLTpAxt+jll+dN2R+nzlsinJtZDGGGrsaIwiLDVw37THrnFAbPRPioyU5RXRsRA5M3Pl3ATttO/bDw/To8NP0piBs88SWyiyncnPnEntBDTacHAt2aaxVgNCsIPpPz23+YRA43f88Ovcrfd2SZP8jtfzHnIWSM7F1C2zEFsuZN1xf1uLQ9ICdsv4Kq9MOWoXAs9IcVJUqcdifkBhiqq9KuOBSvNFMKEeqgf9woGZlJ4zkGzpI768rDwHNasXfiG3ZYbcJOTto=
